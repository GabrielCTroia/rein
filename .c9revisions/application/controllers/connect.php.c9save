{"ts":1357413443834,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\n\nclass Connect extends CI_Controller {\n  \n  public function signup() {\t\n\t\t\t\n\t\tif( !$this->session->userdata( 'logged_in' ) ) {\n\t\t\n\t\t  $this->load->helper( 'form' );\n\t\t  $this->load->library( 'form_validation' );\n\t\t  \n\t\t  $this->form_validation->set_rules( array(\n\t\t        array(\n\t\t              'field' => 'name',\n\t\t              'label' => 'Name',\n\t\t              'rules' => 'trim|required|min_length[5]|max_length[60]'\n\t\t        ),\n\t\t        array(\n\t\t              'field' => 'user_name',\n\t\t              'label' => 'User Name',\n\t\t              'rules' => 'trim|required|min_length[5]|max_length[30]|is_unique[users.user_name]'\n\t\t        ),\n\t\t        array(\n\t\t              'field' => 'email',\n\t\t              'label' => 'Email',\n\t\t              'rules' => 'trim|required|valid_email|is_unique[users.email]'\n\t\t        ),\n\t\t        array(\n\t\t              'field' => 'password',\n\t\t              'label' => 'Password',\n\t\t              'rules' => 'required|matches[password_confirm]|md5'\n\t\t        ),\n\t\t        array(\n\t\t              'field' => 'password_confirm',\n\t\t              'label' => 'Password Confirmation',\n\t\t              'rules' => 'required'\n\t\t        )\n\t\t      ) );\n\t\t      \n\t\t  $this->form_validation->set_error_delimiters( '<div class=\"error\">' , '</div>' );\n\t\t  \n\t\t  \n\t\t  if( $this->form_validation->run() == FALSE ) {\n\t\t    \n\t\t    $data[ 'logged_in' ] = 'splash';\n\t\t    \n\t\t    // Load the sign-up page\n\t\t    $this->load->view( 'common/header', $data );\n\t\t\t  $this->load->view( 'sign_up' );\n\t\t\t  \n\t\t\t} else {\n\t\t\t  \n\t\t\t  $this->load->library('session');\n\t\t\t  \n\t\t\t  $email = $this->input->post( 'email' );\n\t\t\t  $user_name = $this->input->post( 'user_name' );\n\t\t\t  \n\t\t\t  // Enter information into database\n\t\t\t  $this->db->insert( 'users' , array(\n\t\t\t        'name' => $this->input->post( 'name' ),\n\t\t\t        'user_name' => $user_name,\n\t\t\t        'email' => $email,\n\t\t\t        'password' => $this->input->post( 'password' )\n\t\t\t      ) );\n\t\t\t  \n\t\t\t  // get the user_id from the newly created row\n\t\t\t  $user_id = $this->db->get_where( 'users' , array(\n\t\t\t        'user_name' => $user_name,\n\t\t\t        'email' => $email\n\t\t\t      ) , 1 );\n\t\t\t  \n\t\t\t  /*\n        $this->session->set_user_data( array(\n        \t\t\t        'user_id' => $user_id,\n        \t\t\t        'logged_in' => TRUE\n        \t\t\t      ) );\n        */\n\t\t\t  \n\t\t\t  $data[ 'logged_in' ] = 'logged_in';\n\t\t\t  $data[ 'message' ] = 'Congratulations on signing up!';\n\t\t\t  \n\t\t    $this->load->view( 'common/header', $data );\n  \t\t\t$this->load->view( 'config.php' , $data );\n  \t\t}\n\t\t\t\n\t\t\t$this->load->view( 'common/footer' );\n\t\t\t\t\t\t\t\t\n\t\t} else header( 'location: /home/feed' );\n\t}\n}\n\n/* End of file signup.php */\n/* Location: ./application/controllers/signup.php */"]],"start1":0,"start2":0,"length1":0,"length2":2800}]],"length":2800}
{"contributors":[],"silentsave":true,"ts":1357414122152,"patch":[[{"diffs":[[0,"r {\n"],[-1,"  \n  public function signup() {\t\n\t\t\t\n\t\tif( !$this->session->userdata( 'logged_in' ) ) {\n\t\t\n\t\t  $this->load->helper( 'form' );\n\t\t  $this->load->library( 'form_validation' );\n\t\t  \n\t\t  $this->form_validation->set_rules( array(\n\t\t        array(\n\t\t              'field' => 'name',\n\t\t              'label' => 'Name',\n\t\t              'rules' => 'trim|required|min_length[5]|max_length[60]'\n\t\t        ),\n\t\t        array(\n\t\t              'field' => 'user_name',\n\t\t              'label' => 'User Name',\n\t\t              'rules' => 'trim|required|min_length[5]|max_length[30]|is_unique[users.user_name]'\n\t\t        ),\n\t\t        array(\n\t\t              'field' => 'email',\n\t\t              'label' => 'Email',\n\t\t              'rules' => 'trim|required|valid_email|is_unique[users.email]'\n\t\t        ),\n\t\t        array(\n\t\t              'field' => 'password',\n\t\t              'label' => 'Password',\n\t\t              'rules' => 'required|matches[password_confirm]|md5'\n\t\t        ),\n\t\t        array(\n\t\t              'field' => 'password_confirm',\n\t\t              'label' => 'Password Confirmation',\n\t\t              'rules' => 'required'\n\t\t        )\n\t\t      ) );\n\t\t      \n\t\t  $this->form_validation->set_error_delimiters( '<div class=\"error\">' , '</div>' );\n\t\t  \n\t\t  \n\t\t  if( $this->form_validation->run() == FALSE ) {\n\t\t    \n\t\t    $data[ 'logged_in' ] = 'splash';\n\t\t    \n\t\t    // Load the sign-up page\n\t\t    $this->load->view( 'common/header', $data );\n\t\t\t  $this->load->view( 'sign_up' );\n\t\t\t  \n\t\t\t} else {\n\t\t\t  \n\t\t\t  $this->load->library('session');\n\t\t\t  \n\t\t\t  $email = $this->input->post( 'email' );\n\t\t\t  $user_name = $this->input->post( 'user_name' );\n\t\t\t  \n\t\t\t  // Enter information into database\n\t\t\t  $this->db->insert( 'users' , array(\n\t\t\t        'name' => $this->input->post( 'name' ),\n\t\t\t        'user_name' => $user_name,\n\t\t\t        'email' => $email,\n\t\t\t        'password' => $this->input->post( 'password' )\n\t\t\t      ) );\n\t\t\t  \n\t\t\t  // get the user_id from the newly created row\n\t\t\t  $user_id = $this->db->get_where( 'users' , array(\n\t\t\t        'user_name' => $user_name,\n\t\t\t        'email' => $email\n\t\t\t      ) , 1 );\n\t\t\t  \n\t\t\t  /*\n        $this->session->set_user_data( array(\n        \t\t\t        'user_id' => $user_id,\n        \t\t\t        'logged_in' => TRUE\n        \t\t\t      ) );\n        */\n\t\t\t  \n\t\t\t  $data[ 'logged_in' ] = 'logged_in';\n\t\t\t  $data[ 'message' ] = 'Congratulations on signing up!';\n\t\t\t  \n\t\t    $this->load->view( 'common/header', $data );\n  \t\t\t$this->load->view( 'config.php' , $data );\n  \t\t}\n\t\t\t\n\t\t\t$this->load->view( 'common/footer' );\n\t\t\t\t\t\t\t\t\n\t\t} else header( 'location: /home/feed' );\n\t}"],[0,"\n}\n\n"]],"start1":111,"start2":111,"length1":2608,"length2":8}]],"length":200,"saved":false}
{"ts":1357414125056,"patch":[[{"diffs":[[0,"ller {\n\n"],[1,"\n\n\n"],[0,"}\n\n/* En"]],"start1":108,"start2":108,"length1":16,"length2":19}]],"length":203,"saved":false}
{"ts":1357414130583,"patch":[[{"diffs":[[0,"rollers/"],[-1,"signup"],[1,"connect"],[0,".php */"]],"start1":182,"start2":182,"length1":21,"length2":22}]],"length":204,"saved":false}
{"ts":1357414133817,"patch":[[{"diffs":[[0,"ller {\n\n"],[1,"    "],[0,"\n\n\n}\n\n/*"]],"start1":108,"start2":108,"length1":16,"length2":20}]],"length":208,"saved":false}
{"ts":1357414638294,"patch":[[{"diffs":[[0," {\n\n    "],[1," /* \n  * define the page url  \n  */\n  private static $page_url = \"/init\"; "],[0,"\n\n\n}\n\n/*"]],"start1":112,"start2":112,"length1":16,"length2":90}]],"length":282,"saved":false}
{"ts":1357414641677,"patch":[[{"diffs":[[0,"ller {\n\n"],[-1,"    "],[0," /* \n  *"]],"start1":108,"start2":108,"length1":20,"length2":16}]],"length":278,"saved":false}
{"ts":1357414708947,"patch":[[{"diffs":[[0,"  \n  */\n"],[-1,"  "],[0,"private "]],"start1":144,"start2":144,"length1":18,"length2":16}]],"length":276,"saved":false}
{"ts":1357414709324,"patch":[[{"diffs":[[0,"  \n  */\n"],[1,"  "],[0,"private "]],"start1":144,"start2":144,"length1":16,"length2":18}]],"length":278,"saved":false}
